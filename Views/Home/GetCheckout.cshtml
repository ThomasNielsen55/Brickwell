@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@using Microsoft.AspNetCore.Http
@model CartCustomerOrderViewModel


<table class="table table-bordered table-striped">
	<thead>
		<tr>
			<th>Product Name</th>
			<th>Quantity</th>
			<th class="text-right">Amount</th>
			<th class="text-right">Subtotal</th>
		</tr>
	</thead>

	<tbody>
		@foreach (var l in Model.Cart?.Lines ?? Enumerable.Empty<Cart.CartLine>())
		{
			<tr>
				<td class="text-left">@l.Product.Name</td>
				<td class="text-center">@l.Quantity</td>
				<td class="text-right">@l.Product.Price</td>
				<td class="text-right">@((l.Quantity * l.Product.Price).ToString("c"))</td>
		
			</tr>
		}
	<tfoot>
		<tr>
			<td colspan="3" class="text-right">Total:</td>
			<td class="text-right">@Model.Cart?.CalculateTotal().ToString()</td>
		</tr>
	</tfoot>
	</tbody>
</table>
<form method="get" asp-page="/Cart">
	<button type="submit">Review Cart</button>
</form>
<h2>Review your order and enter some information to make your experience better</h2>

<form method="post">


	@{
		var currentDate = DateTime.Now;
		var currentDayOfWeek = currentDate.DayOfWeek.ToString();
		var currentTime = currentDate.TimeOfDay.TotalSeconds;
	}

	<input type="hidden" id="customerId" name="CustomerId" value="" />


	<input type="hidden" id="date" name="Date" value="@currentDate.ToString("yyyy-MM-dd")" />
	<input type="hidden" id="dayOfWeek" name="DayOfWeek" value="@currentDayOfWeek" />
	<input type="hidden" id="time" name="Time" value="@currentTime" />

	@* <label for="amount">Amount:</label> *@
	<input type="hidden" id="amount" name="Amount" value="@Model.Cart.CalculateTotal()" />

	<label for="entryMode">Entry Mode:</label>
	<select id="entryMode" name="EntryMode" required>
		<option value="">Select an entry mode</option>
		<option value="Tap">Tap</option>
		<option value="PIN">PIN</option>
		<option value="CVC">CVC</option>
	</select>

	<input type="hidden" id="amount" name="Amount" value="@Model.Cart.CalculateTotal()" />

	<label for="typeOfTransaction">Type of Transaction:</label>
	<select id="typeOfTransaction" name="TypeOfTransaction" required>
		<option value="POS">POS</option>
		<option value="ATM">ATM</option>
		<option value="Online">Online</option>
	</select>

	<label for="countryOfTransaction">Country of Transaction:</label>
	<select id="countryOfTransaction" name="CountryOfTransaction" required>
		<option value="United Kingdom">United Kingdom</option>
		<option value="USA">USA</option>
		<option value="India">India</option>
		<option value="China">China</option>
		<option value="Russia">Russia</option>
	</select>

	<label for="shippingAddress">Shipping Address:</label>
	<select id="shippingAddress" name="ShippingAddress" required>
		<option value="United Kingdom">United Kingdom</option>
		<option value="USA">USA</option>
		<option value="India">India</option>
		<option value="China">China</option>
		<option value="Russia">Russia</option>
	</select>

	<label for="bank">Bank:</label>
	<select id="bank" name="Bank" required>
		<option value="">Select a bank</option>
		<option value="RBS">RBS</option>
		<option value="Lloyds">Lloyds</option>
		<option value="Barclays">Barclays</option>
		<option value="Halifax">Halifax</option>
		<option value="Monzo">Monzo</option>
		<option value="HSBC">HSBC</option>
		<option value="Metro">Metro</option>
	</select>

	<label for="typeOfCard">Type of Card:</label>
	<select id="typeOfCard" name="TypeOfCard" required>
		<option value="">Select a type of card</option>
		<option value="Visa">Visa</option>
		<option value="MasterCard">MasterCard</option>
	</select>


	<button type="submit">Submit</button>
</form>
